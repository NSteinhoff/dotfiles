#!/bin/bash
color=$(colorscheme -p)

mode=unknown
if [[ "$color" == *-light ]]; then
    mode=light
    othermode=dark
elif [[ "$color" == *-dark ]]; then
    mode=dark
    othermode=light
fi

if [[ "$mode" == unknown ]]; then
    echo "Colorscheme '$color' has no light/dark variants."
    exit 1
fi

newmode=${1:-$othermode}
if [[ $newmode != $mode ]]; then
    colorscheme "${color%-$mode}-$newmode"
fi
